
# üß† Kubernetes —Å kind + Terraform: –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

## üü¢ 1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä kind

```bash
kind create cluster --name flask-cluster
```

> üí° –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä —Å –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ kind-config.yaml

---

## ‚öôÔ∏è 2. –°–æ–±—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑

```bash
docker build -t flask-local:latest .
```

---

## üì¶ 3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑ –≤ –∫–ª–∞—Å—Ç–µ—Ä kind

```bash
kind load docker-image flask-local:latest --name flask-cluster
```

---

## üìÅ 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Terraform-–ø—Ä–æ–µ–∫—Ça

```text
.
‚îú‚îÄ‚îÄ provider.tf           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É Kubernetes
‚îú‚îÄ‚îÄ deployment.tf         # Deployment (–æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
‚îú‚îÄ‚îÄ service.tf            # NodePort-—Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ variables.tf          # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏–º—è, –ø–æ—Ä—Ç—ã, –æ–±—Ä–∞–∑)
‚îî‚îÄ‚îÄ terraform.tfstate     # [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è]
```

---

## üöÄ 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform

```bash
terraform init
```

---

## üîç 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

```bash
terraform plan
```

---

## üö¢ 7. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

```bash
terraform apply -auto-approve
```

---

## üåê 8. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
kubectl get pods
kubectl get svc
curl http://localhost:30080
```

> üí° –ü–æ—Ä—Ç 30080 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –≤ `NodePort` –∏ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ kind-–∫–ª–∞—Å—Ç–µ—Ä–∞

---

## üßº 9. –£–¥–∞–ª–µ–Ω–∏–µ

```bash
terraform destroy -auto-approve
kind delete cluster --name flask-cluster
```

---

## ‚ùóÔ∏è –ü–æ–ª–µ–∑–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

- `image_pull_policy = "Never"` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
- `kind load docker-image` –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ **–∫–∞–∂–¥–æ–π** —Å–±–æ—Ä–∫–∏ `docker build`
- kind –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—Ä–∞–∑—ã –º–µ–∂–¥—É —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏ ‚Äî –∑–∞–≥—Ä—É–∂–∞–π –∫–∞–∂–¥—ã–π —Ä–∞–∑
- `terraform` —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `provider "kubernetes"` –∏ `kubeconfig`
